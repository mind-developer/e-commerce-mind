"use strict";window.Wolmart||(window.Wolmart={}),function(e){Wolmart.liveSearch=function(i,a){e.fn.devbridgeAutocomplete&&(a=void 0===a?e(".search-wrapper"):a).each((function(){var i=e(this),a=i.find(".live-search-list"),r=i.find(".cat"),t=i.find('input[name="post_type"]').val(),n=wolmart_vars.ajax_url+"?action=wolmart_ajax_search&nonce="+wolmart_vars.nonce+(t?"&post_type="+t:"");if(i.find('input[type="search"]').devbridgeAutocomplete({minChars:3,appendTo:a,triggerSelectOnValidInput:!1,serviceUrl:n,onSearchStart:function(){i.addClass("skeleton-body"),a.children().eq(0).html(wolmart_vars.skeleton_screen?'<div class="skel-pro-search"></div><div class="skel-pro-search"></div><div class="skel-pro-search"></div>':'<div class="w-loading"><i></i></div>').css({position:"relative",display:"block"})},onSelect:function(e){-1!=e.id&&(window.location.href=e.url)},onSearchComplete:function(e,i){i.length||a.children().eq(0).hide()},beforeRender:function(i){e(i).removeAttr("style")},formatResult:function(i,a){var r="("+e.Autocomplete.utils.escapeRegExChars(a)+")",t="";return i.img&&(t+='<img class="search-image" src="'+i.img+'">'),t+='<div class="search-info">',t+='<div class="search-name">'+i.value.replace(new RegExp(r,"gi"),"<strong>$1</strong>")+"</div>",i.price&&(t+='<span class="search-price">'+i.price+"</span>"),t+="</div>"}}),r.length){var s=i.find('input[type="search"]').devbridgeAutocomplete();r.on("change",(function(e){r.val()&&"0"!=r.val()?s.setOptions({serviceUrl:n+"&cat="+r.val()}):s.setOptions({serviceUrl:n}),s.hide(),s.onValueChange()}))}}))},e(window).on("wolmart_complete",Wolmart.liveSearch)}(jQuery);