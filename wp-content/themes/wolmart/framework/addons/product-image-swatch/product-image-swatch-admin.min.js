!function(t,e){"use strict";var n,i;window.Wolmart=window.Wolmart||{},Wolmart.admin=Wolmart.admin||{};var o={init:function(){this.onAddImage=this.onAddImage.bind(this),this.onRemoveImage=this.onRemoveImage.bind(this),this.onSelectImage=this.onSelectImage.bind(this),this.onSave=this.onSave.bind(this),this.onCancel=this.onCancel.bind(this),e("#swatch_product_options select").on("change",this.requireSave),e(document.body).on("click","#swatch_product_options .button_upload_image",this.onAddImage).on("click","#swatch_product_options .button_remove_image",this.onRemoveImage).on("click","#swatch_product_options .wolmart-admin-save-changes",this.onSave).on("click","#swatch_product_options .wolmart-admin-cancel-changes",this.onCancel)},requireSave:function(){e("#swatch_product_options .wolmart-admin-save-changes").removeAttr("disabled"),e("#swatch_product_options .wolmart-admin-cancel-changes").removeAttr("disabled")},onSelectImage:function(){var t=n.state().get("selection").first().toJSON();i.siblings("img").attr("src",t.url),i.siblings("input").val(t.id),n.close()},onAddImage:function(o){i=e(o.currentTarget),n||(n=t.media.frames.downloadable_file=t.media({title:"Choose an image",button:{text:"Use image"},multiple:!1})).on("select",this.onSelectImage),n.open(),this.requireSave(),o.preventDefault()},onRemoveImage:function(t){var n=e(t.currentTarget);n.siblings("img").attr("src",lib_swatch_admin.placeholder),n.siblings("input").val(""),this.requireSave(),t.preventDefault()},onSave:function(t){},onCancel:function(t){confirm("Changes are cancelled. Do you want to reload this page?")&&window.location.reload()}};Wolmart.admin.swatchAdmin=o,e(document).ready((function(){Wolmart.admin.swatchAdmin.init()}))}(wp,jQuery);