"use strict";window.Wolmart||(window.Wolmart={}),function(t){var a={init:function(){this.skipReset=!1,Wolmart.$body.on("click","li>.product .product-variations>button",(function(r){var i=t(r.currentTarget);i.closest(".product").hasClass("product-single")||a.previewArchive(i)})).on("click",".product-single .product-variations > button",(function(r){var i=t(r.currentTarget);a.skipReset=!0,Wolmart.requestTimeout((function(){a.skipReset=!1,a.previewSingle(i)}),50)}));var r=t.fn.wc_reset_variation_attr;t.fn.wc_reset_variation_attr=function(t){a.skipReset||r.call(this,t)}},previewArchive:function(t){if(!t.hasClass("disabled")){var a=t.hasClass("active");if(t.closest(".product-variations").children("button").removeClass("active"),a||t.addClass("active"),t.data("image")){var r=t.closest(".product").find(".product-media img:first-child");if(a)r.attr("src",r.data("origin-src")).attr("srcset",r.data("origin-srcset"));else{var i=t.data("image").match(/src="([^"]*)"/);i&&2==i.length&&(r.data("origin-src")||r.data("origin-src",r.attr("src")),r.attr("src",i[1])),(i=t.data("image").match(/srcset="([^"]*)"/))&&2==i.length&&(r.data("origin-srcset")||r.data("origin-srcset",r.attr("srcset")),r.attr("srcset",i[1]))}}}},previewSingle:function(a){var r=a.closest(".variations_form");if(!r.attr("current-image")){var i=a.closest(".product");if(a.hasClass("active")||(a=r.find(".image.active").not(a).first()),a.length){var e=a.attr("data-image");if(e){var s=i.find(".wp-post-image"),c=t(e);s.wc_set_variation_attr("src",c.attr("src")),s.wc_set_variation_attr("height",c.attr("height")),s.wc_set_variation_attr("width",c.attr("width")),s.wc_set_variation_attr("srcset",c.attr("srcset")),s.wc_set_variation_attr("sizes",c.attr("sizes")),s.wc_set_variation_attr("title",c.attr("title")),s.wc_set_variation_attr("data-caption",c.attr("data-caption")),s.wc_set_variation_attr("alt",c.attr("alt")),s.wc_set_variation_attr("data-src",c.attr("data-src")),s.wc_set_variation_attr("data-large_image",c.attr("data-large_image")),s.wc_set_variation_attr("data-large_image_width",c.attr("data-large_image_width")),s.wc_set_variation_attr("data-large_image_height",c.attr("data-large_image_height"))}}else r.wc_variations_image_reset();var o=i.find(".woocommerce-product-gallery").data("wolmart_product_gallery");o.changePostImage()}}};Wolmart.Swatch=a,Wolmart.$window.on("wolmart_complete",(function(){Wolmart.Swatch.init()}))}(jQuery);