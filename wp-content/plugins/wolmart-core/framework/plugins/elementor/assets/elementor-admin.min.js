jQuery(document).ready((function(e){"use strict";var t={init:function(){this.initCustomCSS(),this.initCustomJS(),this.addStudioButtons(),elementor.on("panel:init",(function(){elementor.panel.currentView.on("set:page",t.panelChange),elementor.channels.editor.on("section:activated",t.removeControls)})),"undefined"!=typeof $e&&($e.commands.on("run:before",(function(e,t,o){"document/elements/delete"==t&&o&&o.containers&&o.containers.length&&o.containers.forEach((function(e){elementorFrontend.hooks.doAction("wolmart_elementor_element_before_delete",e.model)}))})),$e.commands.on("run:after",(function(e,t,o){"document/elements/create"==t&&o&&o.model&&o.model.id&&elementorFrontend.hooks.doAction("wolmart_elementor_element_after_add",o.model)})))},initCustomCSS:function(){var t=elementor.settings.page.model.get("page_css");setTimeout((function(){void 0!==t&&elementorFrontend.hooks.doAction("refresh_page_css",t)}),2e3),e(document.body).on("input",'textarea[data-setting="page_css"]',(function(t){e(this).closest(".elementor-control").siblings(".elementor-control-_wolmart_custom_css").length&&(elementor.settings.page.model.set("page_css",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled")),elementorFrontend.hooks.doAction("refresh_page_css",e(this).val())}))},initCustomJS:function(){elementor.settings.page.model.get("page_js");e(document.body).on("input",'textarea[data-setting="page_js"]',(function(t){e(this).closest(".elementor-control").siblings(".elementor-control-_wolmart_custom_js").length&&(elementor.settings.page.model.set("page_js",e(this).val()),e("#elementor-panel-saver-button-publish").removeClass("elementor-disabled"),e("#elementor-panel-saver-button-save-options").removeClass("elementor-disabled"))}))},addStudioButtons:function(){var e=document.getElementById("tmpl-elementor-add-section");e&&(e.textContent=e.textContent.replace('<div class="elementor-add-section-area-button elementor-add-template-button','<div class="elementor-add-section-area-button elementor-studio-section-button" onclick="window.parent.runStudio(this);" title="Wolmart Studio"><i class="wolmart-mini-logo"></i><i class="eicon-insert"></i></div><div class="elementor-add-section-area-button elementor-add-template-button'))},panelChange:function(t){if("_wolmart_section_custom_css"==t.activeSection||"_wolmart_section_custom_js"==t.activeSection){var o=t.activeSection.replaceAll("_section",""),n=o.replaceAll("_wolmart_custom","page");if(e(".elementor-control-"+n).length)return;var s=e(".elementor-control-"+o).clone().removeClass("elementor-control-"+o).addClass("elementor-control-"+n);s.insertAfter(e(".elementor-control-"+o)),s.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}else"wolmart_custom_css_settings"==t.activeSection?e(".elementor-control-page_css").val(elementor.settings.page.model.get("page_css")):"wolmart_custom_js_settings"==t.activeSection&&e(".elementor-control-page_js").val(elementor.settings.page.model.get("page_js"))},removeControls:function(t){if("_wolmart_section_custom_css"!=t&&"_wolmart_section_custom_js"!=t)e(".elementor-control-page_css, .elementor-control-page_js").remove();else{var o=t.replaceAll("_section",""),n=o.replaceAll("_wolmart_custom","page"),s=e(".elementor-control-"+o).clone().removeClass("elementor-control-"+o).addClass("elementor-control-"+n);s.insertAfter(e(".elementor-control-"+o)),s.find("textarea").attr("data-setting",n).val(elementor.settings.page.model.get(n)),"page_css"==n?e(".elementor-control-page_js").remove():e(".elementor-control-page_css").remove()}}};elementor.on("frontend:init",t.init.bind(t))}));